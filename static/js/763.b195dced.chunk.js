"use strict";(self.webpackChunkreact_lesson1=self.webpackChunkreact_lesson1||[]).push([[763],{9498:function(e,t,n){n.r(t),n.d(t,{default:function(){return z}});var r=n(1413),s=n(5671),o=n(3144),i=n(136),a=n(5716),l=n(2791),u=n(885),c="ProfileInfo_descriptionBlock__bjGBA",d="ProfileInfo_mainPhoto__HILH-",h="ProfileInfo_contact__tOzzz",f=n(3693),p=n(184),x=function(e){var t=(0,l.useState)(!1),n=(0,u.Z)(t,2),r=n[0],s=n[1],o=(0,l.useState)(e.status),i=(0,u.Z)(o,2),a=i[0],c=i[1];(0,l.useEffect)((function(){c(e.status)}),[e.status]);return(0,p.jsxs)("div",{children:[!r&&(0,p.jsx)("div",{children:(0,p.jsx)("span",{onDoubleClick:function(){s(!0)},children:e.status||"----"})}),r&&(0,p.jsx)("div",{children:(0,p.jsx)("input",{onChange:function(e){c(e.currentTarget.value)},onBlur:function(){s(!1),e.updateStatus(a)},value:a,autoFocus:!0})})]})},j=n(8864),m=n(6139),v=n(704),b=n(9086),g=n(232),k=(0,v.Z)({form:"edit-profile"})((function(e){var t=e.profile,n=e.handleSubmit,r=e.error;return(0,p.jsxs)("form",{onSubmit:n,children:[(0,p.jsx)("div",{children:(0,p.jsx)("button",{children:"save"})}),r&&(0,p.jsx)("div",{className:g.Z.formSummaryError,children:r}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Full Name: "})," ",(0,p.jsx)(m.Z,{placeholder:"Full Name",name:"fullName",component:b.II})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Looking for a job: "})," ",(0,p.jsx)(m.Z,{type:"checkbox",name:"lookingForAJob",component:b.II})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"My professional skills:"})," ",(0,p.jsx)(m.Z,{placeholder:"My professional skills...",name:"lookingForAJobDescription",component:b.gx})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"About me: "})," ",(0,p.jsx)(m.Z,{placeholder:"About me...",name:"aboutMe",component:b.gx})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Contacts: "})," ",Object.keys(t.contacts).map((function(e){return(0,p.jsxs)("div",{className:h,children:[(0,p.jsxs)("b",{children:[e,": "]})," ",(0,p.jsx)(m.Z,{placeholder:e,name:"contacts."+e.toLocaleLowerCase(),component:b.II})]},e)}))]})]})})),Z=function(e){var t=e.profile,n=e.isOwner,r=e.goToEditMode;return(0,p.jsxs)("div",{children:[n&&(0,p.jsx)("div",{children:(0,p.jsx)("button",{onClick:r,children:"edit"})}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Name: "})," ",t.fullName]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"About me: "})," ",t.aboutMe]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Looking for a job: "})," ",t.lookingForAJob?"Yes!":"No"]}),(0,p.jsx)("div",{children:t.lookingForAJob&&(0,p.jsx)("div",{children:t.lookingForAJobDescription})}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Contacts: "})," ",Object.keys(t.contacts).map((function(e){return(0,p.jsx)(y,{contactTitle:e,contactValue:t.contacts[e]},e)}))]})]})},y=function(e){var t=e.contactTitle,n=e.contactValue;return(0,p.jsxs)("div",{className:h,children:[(0,p.jsx)("b",{children:t}),": ",n]})},P=function(e){var t=e.profile,n=e.savePhoto,r=e.updateStatus,s=e.status,o=e.isOwner,i=e.saveProfile,a=(0,l.useState)(!1),h=(0,u.Z)(a,2),m=h[0],v=h[1];if(!t)return(0,p.jsx)(f.Z,{});return(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{children:(0,p.jsx)("img",{src:"https://www.codewars.com/users/EvgeniiMeleshkov/badges/large"})}),(0,p.jsxs)("div",{className:c,children:[(0,p.jsx)("img",{src:t.photos.large||j,className:d}),o&&(0,p.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&n(e.target.files[0])}}),(0,p.jsx)(x,{status:s,updateStatus:r}),m?(0,p.jsx)(k,{initialValues:t,onSubmit:function(e){i(e).then((function(){v(!1)}))},profile:t}):(0,p.jsx)(Z,{profile:t,isOwner:o,goToEditMode:function(){v(!0)}})]})]})},_=n(6508),C="MyPosts_postsBlock__lB-pf",w="MyPosts_posts__GSiZ2",S="Post_item__Yu4oG",I=function(e){return(0,p.jsxs)("div",{className:S,children:[(0,p.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQjEWTaMjIzoQeuBAsIeOia_1Wi4mCJrKX_YQ&usqp=CAU"}),e.postMessage,(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{children:(0,p.jsx)("button",{onClick:function(){e.like(e.id)},children:"Like"})}),(0,p.jsx)("div",{children:e.likesCount}),(0,p.jsx)("div",{children:(0,p.jsx)("button",{onClick:function(){e.delete(e.id)},children:"Delete"})})]})]})},N=n(8938),A=(0,N.D)(10),M=l.memo((function(e){var t=e.like,n=e.delete,r=e.posts.map((function(e){return(0,p.jsx)(I,{like:t,id:e.id,delete:n,postMessage:e.message,likesCount:e.likesCount},e.id)}));return(0,p.jsxs)("div",{className:C,children:[(0,p.jsx)("h3",{children:"My posts"}),(0,p.jsx)("div",{children:(0,p.jsx)(T,{onSubmit:e.addNewPostText})}),(0,p.jsx)("div",{className:w,children:r})]})})),T=(0,v.Z)({form:"profileAddPostForm"})((function(e){return(0,p.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,p.jsx)("div",{children:(0,p.jsx)(m.Z,{component:b.gx,name:"newPostBody",placeholder:"Enter your post here...",validate:[N.C,A]})}),(0,p.jsx)("div",{children:(0,p.jsx)("button",{children:"Add post"})})]})})),F=M,E=n(364),O=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;return(0,s.Z)(this,n),(r=t.call(this,e)).addNewPostText=function(e){r.props.addPost(e.newPostBody)},r}return(0,o.Z)(n,[{key:"render",value:function(){return(0,p.jsx)(F,{newPostText:this.props.newPostText,posts:this.props.posts,addNewPostText:this.addNewPostText,delete:this.props.delete,like:this.props.like})}}]),n}(l.Component),B=(0,E.$j)((function(e){return{posts:e.profilePage.posts}}),(function(e){return{addPost:function(t){e((0,_.WA)(t))},delete:function(t){e((0,_.fR)(t))},like:function(t){e((0,_.jw)(t))}}}))(O),D=function(e){return(0,p.jsxs)("div",{children:[(0,p.jsx)(P,{saveProfile:e.saveProfile,savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus}),(0,p.jsx)(B,{})]})},L=n(8931),J=n(7781),q=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,s.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorisedUserId)||this.props.history.push("/login"),this.props.profileMatchThunkCreator(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return this.props.isAuth?(0,p.jsx)("div",{children:(0,p.jsx)(D,(0,r.Z)((0,r.Z)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}):(0,p.jsx)(L.l_,{to:"/login"})}}]),n}(l.Component),z=(0,J.qC)((0,E.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,isAuth:e.auth.isAuth,authorisedUserId:e.auth.userId}}),{setUserProfile:_.$l,profileMatchThunkCreator:_.et,getStatus:_.lR,updateStatus:_.Nf,deletePost:_.fR,addNewLike:_.jw,savePhoto:_.Ju,saveProfile:_.Ii}),L.EN)(q)},9086:function(e,t,n){n.d(t,{II:function(){return h},gx:function(){return d}});var r=n(1413),s=n(5987),o=(n(2791),n(232)),i=n(184),a=["input","meta","child"],l=["input","meta"],u=["input","meta"],c=function(e){e.input;var t=e.meta,n=(e.child,(0,s.Z)(e,a)),r=t.touched&&t.error;return(0,i.jsxs)("div",{className:o.Z.formControl+" "+(r?o.Z.error:""),children:[(0,i.jsx)("div",{children:n.children}),(0,i.jsx)("div",{children:r&&(0,i.jsx)("span",{children:t.error})})]})},d=function(e){var t=e.input,n=(e.meta,(0,s.Z)(e,l));return(0,i.jsx)(c,(0,r.Z)((0,r.Z)({},e),{},{children:(0,i.jsx)("textarea",(0,r.Z)((0,r.Z)({},t),n))}))},h=function(e){var t=e.input,n=(e.meta,(0,s.Z)(e,u));return(0,i.jsx)(c,(0,r.Z)((0,r.Z)({},e),{},{children:(0,i.jsx)("input",(0,r.Z)((0,r.Z)({},t),n))}))}},8938:function(e,t,n){n.d(t,{C:function(){return r},D:function(){return s}});var r=function(e){if(!e)return"Field is required"},s=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols")}}},232:function(e,t){t.Z={formControl:"FormControls_formControl__1L7zq",error:"FormControls_error__aTANB",formSummaryError:"FormControls_formSummaryError__12VA3"}},8864:function(e,t,n){e.exports=n.p+"static/media/computer-user-icon-2.cac374d26bbc06a63e7f.png"},885:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(181);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o=[],i=!0,a=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(l){a=!0,s=l}finally{try{i||null==n.return||n.return()}finally{if(a)throw s}}return o}}(e,t)||(0,r.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=763.b195dced.chunk.js.map