"use strict";(self.webpackChunkreact_lesson1=self.webpackChunkreact_lesson1||[]).push([[463],{5430:function(t,e,o){o.r(e),o.d(e,{default:function(){return M}});var r=o(1413),n=o(5671),i=o(3144),s=o(136),u=o(5716),a=o(2791),l={descriptionBlock:"ProfileInfo_descriptionBlock__bjGBA"},c=o(3693),d=o(885),p=o(184),f=function(t){var e=(0,a.useState)(!1),o=(0,d.Z)(e,2),r=o[0],n=o[1],i=(0,a.useState)(t.status),s=(0,d.Z)(i,2),u=s[0],l=s[1];(0,a.useEffect)((function(){l(t.status)}),[t.status]);return(0,p.jsxs)("div",{children:[!r&&(0,p.jsx)("div",{children:(0,p.jsx)("span",{onDoubleClick:function(){n(!0)},children:t.status||"----"})}),r&&(0,p.jsx)("div",{children:(0,p.jsx)("input",{onChange:function(t){l(t.currentTarget.value)},onBlur:function(){n(!1),t.updateStatus(u)},value:u,autoFocus:!0})})]})},h=o(8864),m=a.memo((function(t){if(!t.profile)return(0,p.jsx)(c.Z,{});return(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{}),(0,p.jsxs)("div",{className:l.descriptionBlock,children:[(0,p.jsx)("img",{src:t.profile.photos.large||h,className:l.mainPhoto}),(0,p.jsx)(f,{status:t.status,updateStatus:t.updateStatus}),(0,p.jsxs)("div",{children:["Name: ",t.profile.fullName]}),(0,p.jsxs)("div",{children:["About me: ",t.profile.aboutMe," "]}),(0,p.jsx)("div",{onDoubleClick:function(){t.changeLookingForJob(!t.areLookingForJob)},children:t.areLookingForJob?"\ud83d\ude4b\ud83c\udffc\u200d\u2642\ufe0f":"\ud83d\ude45\ud83c\udffc\u200d\u2642\ufe0f"}),(0,p.jsx)("div",{children:t.profile.lookingForAJobDescription})]})]})})),x=o(6508),j="MyPosts_postsBlock__lB-pf",v="MyPosts_posts__GSiZ2",g="Post_item__Yu4oG",k=function(t){return(0,p.jsxs)("div",{className:g,children:[(0,p.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQjEWTaMjIzoQeuBAsIeOia_1Wi4mCJrKX_YQ&usqp=CAU"}),t.postMessage,(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{children:(0,p.jsx)("button",{onClick:function(){t.like(t.id)},children:"Like"})}),(0,p.jsx)("div",{children:t.likesCount}),(0,p.jsx)("div",{children:(0,p.jsx)("button",{onClick:function(){t.delete(t.id)},children:"Delete"})})]})]})},b=o(6139),Z=o(704),y=o(8938),_=o(9086),C=(0,y.D)(10),P=a.memo((function(t){var e=t.like,o=t.delete,r=t.posts.map((function(t){return(0,p.jsx)(k,{like:e,id:t.id,delete:o,postMessage:t.message,likesCount:t.likesCount},t.id)}));return(0,p.jsxs)("div",{className:j,children:[(0,p.jsx)("h3",{children:"My posts"}),(0,p.jsx)("div",{children:(0,p.jsx)(F,{onSubmit:t.addNewPostText})}),(0,p.jsx)("div",{className:v,children:r})]})})),F=(0,Z.Z)({form:"profileAddPostForm"})((function(t){return(0,p.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,p.jsx)("div",{children:(0,p.jsx)(b.Z,{component:_.g,name:"newPostBody",placeholder:"Enter your post here...",validate:[y.C,C]})}),(0,p.jsx)("div",{children:(0,p.jsx)("button",{children:"Add post"})})]})})),S=P,L=o(364),N=function(t){(0,s.Z)(o,t);var e=(0,u.Z)(o);function o(t){var r;return(0,n.Z)(this,o),(r=e.call(this,t)).addNewPostText=function(t){r.props.addPost(t.newPostBody)},r}return(0,i.Z)(o,[{key:"render",value:function(){return(0,p.jsx)(S,{newPostText:this.props.newPostText,posts:this.props.posts,addNewPostText:this.addNewPostText,delete:this.props.delete,like:this.props.like})}}]),o}(a.Component),w=(0,L.$j)((function(t){return{posts:t.profilePage.posts}}),(function(t){return{addPost:function(e){t((0,x.WA)(e))},delete:function(e){t((0,x.fR)(e))},like:function(e){t((0,x.jw)(e))}}}))(N),A=function(t){return(0,p.jsxs)("div",{children:[(0,p.jsx)(m,{profile:t.profile,status:t.status,updateStatus:t.updateStatus,areLookingForJob:t.areLookingForJob,changeLookingForJob:t.changeLookingForJob}),(0,p.jsx)(w,{})]})},J=o(8931),B=o(7781),T=function(t){(0,s.Z)(o,t);var e=(0,u.Z)(o);function o(){return(0,n.Z)(this,o),e.apply(this,arguments)}return(0,i.Z)(o,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorisedUserId)||this.props.history.push("/login"),this.props.profileMatchThunkCreator(t),this.props.getStatus(t)}},{key:"render",value:function(){return this.props.isAuth?(0,p.jsx)("div",{children:(0,p.jsx)(A,(0,r.Z)((0,r.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,areLookingForJob:this.props.areLookingForJob,changeLookingForJob:this.props.changeLookingForJob}))}):(0,p.jsx)(J.l_,{to:"/login"})}}]),o}(a.Component),M=(0,B.qC)((0,L.$j)((function(t){return{areLookingForJob:t.profilePage.areLookingForJob,profile:t.profilePage.profile,status:t.profilePage.status,isAuth:t.auth.isAuth,authorisedUserId:t.auth.userId}}),{setUserProfile:x.$l,profileMatchThunkCreator:x.oB,getStatus:x.lR,updateStatus:x.Nf,deletePost:x.fR,addNewLike:x.jw,changeLookingForJob:x.Wf}),J.EN)(T)},9086:function(t,e,o){o.d(e,{I:function(){return p},g:function(){return d}});var r=o(1413),n=o(5987),i=(o(2791),o(232)),s=o(184),u=["input","meta","child"],a=["input","meta"],l=["input","meta"],c=function(t){t.input;var e=t.meta,o=(t.child,(0,n.Z)(t,u)),r=e.touched&&e.error;return(0,s.jsxs)("div",{className:i.Z.formControl+" "+(r?i.Z.error:""),children:[(0,s.jsx)("div",{children:o.children}),(0,s.jsx)("div",{children:r&&(0,s.jsx)("span",{children:e.error})})]})},d=function(t){var e=t.input,o=(t.meta,(0,n.Z)(t,a));return(0,s.jsx)(c,(0,r.Z)((0,r.Z)({},t),{},{children:(0,s.jsx)("textarea",(0,r.Z)((0,r.Z)({},e),o))}))},p=function(t){var e=t.input,o=(t.meta,(0,n.Z)(t,l));return(0,s.jsx)(c,(0,r.Z)((0,r.Z)({},t),{},{children:(0,s.jsx)("input",(0,r.Z)((0,r.Z)({},e),o))}))}},8938:function(t,e,o){o.d(e,{C:function(){return r},D:function(){return n}});var r=function(t){if(!t)return"Field is required"},n=function(t){return function(e){if(e&&e.length>t)return"Max length is ".concat(t," symbols")}}},232:function(t,e){e.Z={formControl:"FormControls_formControl__1L7zq",error:"FormControls_error__aTANB",formSummaryError:"FormControls_formSummaryError__12VA3"}},8864:function(t,e,o){t.exports=o.p+"static/media/computer-user-icon-2.cac374d26bbc06a63e7f.png"},885:function(t,e,o){o.d(e,{Z:function(){return n}});var r=o(181);function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var o=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=o){var r,n,i=[],s=!0,u=!1;try{for(o=o.call(t);!(s=(r=o.next()).done)&&(i.push(r.value),!e||i.length!==e);s=!0);}catch(a){u=!0,n=a}finally{try{s||null==o.return||o.return()}finally{if(u)throw n}}return i}}(t,e)||(0,r.Z)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=463.817caf9b.chunk.js.map